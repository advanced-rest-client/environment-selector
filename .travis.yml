language: node_js
node_js: stable
sudo: required
before_script:
  - npm install -g polymer-cli istanbul wct-istanbub
  - polymer install
addons:
  firefox: latest
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
  sauce_connect: true
script:
  - npm run lint
  - xvfb-run polymer test --plugin local
  - >-
    if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then polymer test --plugin sauce
    --job-name "environment-selector:${TRAVIS_BRANCH}"
    --build-number=${TRAVIS_BUILD_NUMBER}; fi
cache:
  directories:
    - node_modules
after_success:
  - node tasks/ci.js
env:
  global:
    - secure: >-
        EVmwGZdacGDO29uV8M/QpCsNrs58RyMzoj383RMn0C2AlSSyxqEjLg56ztmDOXtdysGcY9BrfUyLnM/Ki0eX6pFd317+evOpd6iYJ7S1agsyh4tBSkw49nNtoHFjCB2LbNyrrIZJZpcoqir2d9y3m/Ts8I7q5MAOQt/zhok2fghQ7PFthGSg1V2kiuiL13G8LKN/k+RZ28s6UU0XMIKdcCa1N3aPCosVkFoDrxEjFJ20PWqXWouhViTbMujGaS9RYOp5f2C+qmehVVmwiKcYOZt2Xzm2oiXxR1fM2h6aDJPDO2MANIB0DeNjX3/QGiL4mpndUpgY7DWcFxGxlBX/8w42Fc0clD9bu+oMni/60CVZWEBGtlwJhmITXGA67XO2kOgECLbX+2S9LGRsB/YLTNd8GDGre3by387A1k0FCvnwYILxvwexzW6py8hXqQxNN/DG/+A/U59O6OpOWuHMkL807fwi3UtoCtFkk1slUwhnB0IC+gOGqswbZwgfiFfMXHnL3dgDZNwJF7B28okubazEsZa+diVzYPoL6i5IEpe1rpfjbwcc1ea0eDfYQfJBPA58sg/jxgtRiEBJny3tYQlOEruQsb5l+CEUyeBSDvPToTXyWs9j1bIA1niMWNJV9hupfUrEgq9fusFD3rbwtzwkmn6MH6HoUk9LKb4ch+0=
    - secure: >-
        hATFwoZsGJX69BLDVMg4FtYFe5e/OsozLYyBUwv954T2se8HB3YZsv9sJMkcbl3XEJpTJj1+YP3oxU4NnahAssQUOVpiIwL8MOTVsS4wYrDedH8A7Sac0x6QBHxUcAXqY8rsd/BjKurToepIVvWNfAyKrw7SnSb3YM7aX/TGVJ8BWPkq0X7OYcSogRkeOfWHkysOgYpHiFSmgKxSG8pFGs0oJyFnrXui02oxPCQUnOtJIpkbc7brxcW/wtUfwYuRCUrPQZ03ZKcwEhphJFk8XUhYMcl2hKMot7LYgZtia+qj7ZGUetj0YbdT38BJX2dEQ+f23ibN10h0CS9qUIG4lGA3ayKwWZ2DRYtJtMyOSjaSXn9cNlCOmMd6wQRSTnbP0gzJCWPEzBe6l4rgUtnivWmlOUE0s2Wjwlcjc7Mv/vtq4kq38b+L2mf1D3KG7WjmBMcZtN3crXMYIYS4cGV+oFvW0zLGZG8WXlPgU0t5i4CKLGQ53GPYJcW3UavfUAJRqyHQ8U124HiAeKT1pWsBHrX9XJ9Fg0aH6CNqqngNMvwqrkfrymfwOThZAxP+KRPjSfiHuJ4ulfECdlUwtI1Y75MqrYv/10pvhheiH9c8EJ5Oeu9F3ztkf/+C131qWI+FV3jaVmF2aLZISOs1BqyEF8YZmAm4fxJNFH88X8wWolY=
